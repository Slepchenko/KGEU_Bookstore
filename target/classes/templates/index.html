<!doctype html>
<html lang="en" xmlns:th="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js"
            integrity="sha384-oBqDVmMz9ATKxIep9tiCxS/Z9fNfEXiDAYTujMAeBAsjFuCZSmKbSSUnQlmh/jp3"
            crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.min.js"
            integrity="sha384-cuYeSxntonz0PPNlHhBs68uyIAVpIIOZZ5JqeqvYYIcEL727kskC66kF92t6Xl2V"
            crossorigin="anonymous"></script>
    <link th:href="@{/css/bootstrap.min.css}" rel="stylesheet">
    <link rel="stylesheet" type="text/css" href="/css/fonts.css"/>
    <link rel="stylesheet" type="text/css" href="/css/styles.css"/>
    <link rel="stylesheet" type="text/css" href="/css/header.css"/>
    <link rel="stylesheet" type="text/css" href="/css/footer-inf.css"/>
    <link rel="stylesheet" type="text/css" href="/css/content.css"/>
    <link rel="stylesheet" type="text/css" href="/css/modal.css"/>
    <script th:src="@{/js/code.jquery.com_jquery-3.7.0.min.js}"></script>
    <script th:src="@{/js/bootstrap.min.js}"></script>
    <title>Книжный магазин</title>
</head>
<body>


<!--header-->
<header class="header">
    <img class="logo" src="/images/1.jpg"/>
    <div class="search-grp">
        <input class="search" id="search" name="search" placeholder="поиск..." required>
        <button class="search-btn"><a>&#128269;</a></button>
    </div>
</header>


<!--Панель навигации Меню-->
<nav class="nav">
    <div><a class="menu-link" th:href="@{/index}">Главная</a></div>
    <div><a href="#modal-about-us">О нас</a></div>
    <div><a>Бестселлер</a></div>
    <div><a>Предзаказ</a></div>
    <div><a>Преимущества</a></div>
    <div><a>Каталог</a></div>
    <div><a href="#modal-contacts">Контакты</a></div>
    <div><a href="#modal-feedback">Обратная связь</a></div>
</nav>


<!--Content -->
<div class="content">
    <!--    Жанры-->
    <aside class="aside">
        <div class="books-category">Книги</div>
        <div style="margin-left: 10px; color: gray;">Категории</div>
        <table class="table">
            <tr th:each="category: ${categories}">
                <div>
                    <a class="category-link" th:text="${category.name}"
                       th:href="@{/books/getCategoryPagination(cat=${category.name})}"></a>
                </div>
            </tr>
        </table>
    </aside>


    <!--   контент -->
    <main class="main">
        <div class="data">
            <div th:each="b: ${books}" class="book">
                <a class="link-book" th:href="@{/books/{id}(id=${b.id})}">
                    <div class="bl1">
                        <div class="book-img">
                            <img th:src="${b.imageUrl}" alt="Загрузка картинки"/>
                        </div>
                        <div class="book-info">
                            <div class="book-author" th:text="${b.author}"></div>
                            <div class="price" th:text="${b.price + ' &#8381;'}"></div>
                            <div th:text="${b.category.name}"></div>
                        </div>
                    </div>
                    <div class="book-name" th:text="${b.name}"></div>
                </a>
            </div>
        </div>

<!--        Номера страниц-->
        <div class="pages">
            <div class="pagination">
                <span th:if="${currentPage > 1}">
            <a th:if="${category != null}"
               th:href="@{/books/getCategoryPagination(page=${currentPage - 1}, cat=${category})}">Предыдущая</a>
            <a th:unless="${category != null}"
               th:href="@{/books/bookByPagination(page=${currentPage - 1})}">Предыдущая</a>
                </span>
                <span th:each="i : ${#numbers.sequence(1, totalPages)}">
            <a th:if="${category != null}"
               th:href="@{/books/getCategoryPagination(page=${i}, cat=${category})}"
               th:text="${i}"
               th:classappend="${i == currentPage} ? 'active' : ''"></a>
            <a th:unless="${category != null}"
               th:href="@{/books/bookByPagination(page=${i})}"
               th:text="${i}"
               th:classappend="${i == currentPage} ? 'active' : ''"></a>
                </span>
                <span th:if="${currentPage < totalPages}">
            <a th:if="${category != null}"
               th:href="@{/books/getCategoryPagination(page=${currentPage + 1}, cat=${category})}">Следующая</a>
            <a th:unless="${category != null}"
               th:href="@{/books/bookByPagination(page=${currentPage + 1})}">Следующая</a>
                </span>
            </div>
        </div>

    </main>
</div>

<!--footer-->
<footer class="footer">
    <div class="company-inf">
        <div class="div-footer"><h3>Книжный магазин "Апысь"</h3></div>
        <div>"Апысь" - крупнейшая сеть книжных магазинов, успешно работающих от Кильдебяк до пос. Лесхоз</div>
        <div>А ещё это - крупный интернет-магазин книг. В нем вы можете заказывать книги в любое время года</div>
        <div>Купив книгу в магазине "Апысь", вы становитесь её обладателем!</div>
    </div>
    <div class="menu">

        <div class="item-menu"><a href="#modal-book">Главная</a></div>
        <div class="item-menu"><a th:href="@{/index}">Бестселлер</a></div>
        <div class="item-menu"><a th:href="@{/index}">Предзаказ</a></div>
        <div class="item-menu"><a th:href="@{/index}">Преимущества</a></div>
        <div class="item-menu"><a th:href="@{/index}">Каталог</a></div>
        <div class="item-menu"><a th:href="@{/index}">О нас</a></div>
        <div class="item-menu"><a th:href="@{/index}">Контакты</a></div>
        <div class="item-menu"><a th:href="@{/index}">Обратная связь</a></div>
    </div>
    <div class="contacts">
        <div class="item-menu">КГЭУ</div>
        <div class="item-menu">гр. ЗТРСм-1-23</div>
        <div class="item-menu">Слепченко Александр Сергеевич</div>
        <div class="contacts-info">
            <a><img class="phone" src="/images/phone.svg"/></a>
            <a><img class="telegram" src="/images/telegram.svg"/></a>
            <a><img class="email" src="/images/email.svg"/></a>
            <a><img class="github" src="/images/github.svg"/></a>
        </div>
    </div>

</footer>



<div id="modal-about-us" class="modal">
    <div class="modal-content">
        <a href="#" class="close">&times;</a>
        <h2>О нас</h2>
        <p>Здесь содержится информация о нас.</p>
    </div>
</div>

<div id="modal-contacts" class="modal">
    <div class="modal-content">
        <a href="#" class="close">&times;</a>
        <h2>контакт</h2>
        <p></p>
    </div>
</div>

<div id="modal-feedback" class="modal">
    <div class="modal-content">
        <a href="#" class="close">&times;</a>
        <h2>обратная связь</h2>
        <p></p>
    </div>
</div>

<div id="modal-something" class="modal">
    <div class="modal-content">
        <a href="#" class="close">&times;</a>
        <h2>О нас</h2>
        <p>Здесь содержится информация о нас.</p>
    </div>
</div>

</body>
</html>
